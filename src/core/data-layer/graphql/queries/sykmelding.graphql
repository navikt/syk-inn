query SykmeldingById($id: String!) {
    sykmelding(id: $id) {
        ...Sykmelding
    }
}

query AllSykmeldinger {
    sykmeldinger {
        ...Sykmelding
    }
}

mutation OpprettSykmelding(
    $draftId: String!
    $pasientIdent: String!
    $values: OpprettSykmeldingInput!
    $force: Boolean! = false
) {
    opprettSykmelding(draftId: $draftId, ident: $pasientIdent, values: $values, force: $force) {
        ... on Sykmelding {
            ...Sykmelding
        }
        ... on RuleOutcome {
            ...RuleOutcome
        }
        ... on OtherSubmitOutcomes {
            cause
        }
    }
}

fragment RuleOutcome on RuleOutcome {
    status
    message
    rule
    tree
}

fragment SykmeldingRedacted on SykmeldingRedacted {
    sykmeldingId
    meta {
        pasientIdent
        sykmelderHpr
        legekontorOrgnr
        mottatt
    }
    utfall {
        result
        message
    }
    values {
        aktivitet {
            type
            fom
            tom
        }
    }
}

fragment SykmeldingFull on SykmeldingFull {
    sykmeldingId
    meta {
        pasientIdent
        sykmelderHpr
        legekontorOrgnr
        mottatt
    }
    utfall {
        result
        message
    }
    values {
        hoveddiagnose {
            ...Diagnose
        }
        bidiagnoser {
            ...Diagnose
        }
        aktivitet {
            ...Aktivitet
        }
        arbeidsgiver {
            harFlere
            arbeidsgivernavn
        }
        svangerskapsrelatert
        pasientenSkalSkjermes
        meldinger {
            tilNav
            tilArbeidsgiver
        }
        yrkesskade {
            yrkesskade
            skadedato
        }
        tilbakedatering {
            startdato
            begrunnelse
        }
        utdypendeSporsmal {
            utfodringerMedArbeid
            medisinskOppsummering
            hensynPaArbeidsplassen
        }
    }
    documentStatus
}

fragment Sykmelding on Sykmelding {
    ...SykmeldingRedacted
    ...SykmeldingFull
}

fragment Aktivitet on Aktivitet {
    ... on FomTom {
        fom
        tom
    }
    ... on AktivitetIkkeMulig {
        type
        arbeidsrelatertArsak {
            isArbeidsrelatertArsak
            arbeidsrelaterteArsaker
            annenArbeidsrelatertArsak
        }
        medisinskArsak {
            isMedisinskArsak
        }
    }
    ... on Avventende {
        type
        innspillTilArbeidsgiver
    }
    ... on Behandlingsdager {
        type
        antallBehandlingsdager
    }
    ... on Gradert {
        type
        grad
    }
    ... on Reisetilskudd {
        type
    }
}
